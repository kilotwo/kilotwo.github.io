<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.1.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/322.ico?v=7.1.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/161.ico?v=7.1.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.1.0',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="此文章是学习朱老师零基础3天学会linux课程时所做的笔记，文中介绍了linux的基本知识、如何在windows虚拟机装载ubuntu系统、linux常用命令和c语言的编译器等知识。此文章比较适合快速上手linux系统。 [TOC] ##课堂笔记 ###0.2.1.当前主流操作系统及其特点   当前主流的操作系统：windows、android、iOS、symbian、linux/unix   W">
<meta name="keywords" content="自动化，计算机视觉，算法，Android，QT5，linux">
<meta property="og:type" content="article">
<meta property="og:title" content="南七忆梦_">
<meta property="og:url" content="https://kilotwo.github.io/2018/04/05/Blog/快速上手linux系统学习笔记/index.html">
<meta property="og:site_name" content="南七忆梦_">
<meta property="og:description" content="此文章是学习朱老师零基础3天学会linux课程时所做的笔记，文中介绍了linux的基本知识、如何在windows虚拟机装载ubuntu系统、linux常用命令和c语言的编译器等知识。此文章比较适合快速上手linux系统。 [TOC] ##课堂笔记 ###0.2.1.当前主流操作系统及其特点   当前主流的操作系统：windows、android、iOS、symbian、linux/unix   W">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-04-05T07:12:41.798Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="南七忆梦_">
<meta name="twitter:description" content="此文章是学习朱老师零基础3天学会linux课程时所做的笔记，文中介绍了linux的基本知识、如何在windows虚拟机装载ubuntu系统、linux常用命令和c语言的编译器等知识。此文章比较适合快速上手linux系统。 [TOC] ##课堂笔记 ###0.2.1.当前主流操作系统及其特点   当前主流的操作系统：windows、android、iOS、symbian、linux/unix   W">





  
  
  <link rel="canonical" href="https://kilotwo.github.io/2018/04/05/Blog/快速上手linux系统学习笔记/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title> | 南七忆梦_</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">南七忆梦_</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    
  
  

  

  <a href="https://github.com/kilotwo" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://kilotwo.github.io/2018/04/05/Blog/快速上手linux系统学习笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zero、">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="南七忆梦_">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-04-05 14:54:24 / 修改时间：15:12:41" itemprop="dateCreated datePublished" datetime="2018-04-05T14:54:24+08:00">2018-04-05</time>
            

            
              

              
            
          </span>

          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">评论数：</span>
                <a href="/2018/04/05/Blog/快速上手linux系统学习笔记/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2018/04/05/Blog/快速上手linux系统学习笔记/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon">
            <i class="fa fa-eye"></i>
             阅读次数： 
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>
            </span>
          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">本文字数：</span>
                
                <span title="本文字数">12k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">11 分钟</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>此文章是学习朱老师零基础3天学会linux课程时所做的笔记，文中介绍了linux的基本知识、如何在windows虚拟机装载ubuntu系统、linux常用命令和c语言的编译器等知识。此文章比较适合快速上手linux系统。</p>
<p>[TOC]</p>
<p>##课堂笔记</p>
<p>###0.2.1.当前主流操作系统及其特点</p>
<p>  当前主流的操作系统：windows、android、iOS、symbian、linux/unix</p>
<p>  Windows：傻瓜式、好学习、工资低</p>
<p>  Linux：linux认为每一个用户都是专业人士，</p>
<p>  操作麻烦，学习比较难，免费的、开源的，linux性能好，可移植性好，好的设计理念</p>
<p>  Android：移动操作系统，android基于linux</p>
<p>  iOS：很优秀，创造性，走钢丝</p>
<p>  嵌入式操作系统：linux + WinCE（已淘汰）</p>
<p>  当前：消费电子Android，工业linux</p>
<p>###0.2.2.多机开发：双系统与虚拟机</p>
<p>  开发嵌入式程序，需要linux环境。但是因为：windows中有许多很好用的软件，如notepad++、SourceInsight，所以也需要windows。</p>
<p> 既需要windows，又需要linux。</p>
<p>  第一种：双系统 不方便</p>
<p>  第二种：虚拟机 方便，损失性能，与<br> 真机微小差异</p>
<p>  第三种：两台电脑：不方便</p>
<p> 现实中：</p>
<p>  个人开发者：虚拟机</p>
<p>  大公司：服务器+客户端</p>
<p>###0.2.3.搭建linux开发环境</p>
<p>  涉及到两个东西：虚拟机软件+linux系统</p>
<p>  虚拟机软件：就是一个单纯的在windows中运行的软件，跟word、360没有本质区别。现在主流的虚拟机软件有VMWare和VirtualBox</p>
<p>  虚拟机软件在windows系统中运行，运行后它会模拟出来一个电脑，所以叫虚拟机。然后我们可以在该虚拟机中安装别的操作系统。</p>
<p>###0.2.4.隐藏文件与非隐藏文件</p>
<p>  Windows中：文件隐藏与不隐藏通过设置文件属性实现的，可以点击文件，右键属性，选择勾选隐藏选项来设置文件为隐藏文件。。在Windows中查看隐藏文件方法：菜单栏 工具-&gt;文件夹选项-&gt;查看-&gt;显示所有文件和文件夹。</p>
<p>  Linux中：linux中隐藏文件特点是文件名以.开头，跟文件属性无关。在linux中查看隐藏文件用ls -a（all所有）命令（普通显示ls）</p>
<p>###0.2.5.相对路径与绝对路径</p>
<p>  什么是路径：路径是用来标识一个文件在操作系统的文件系统中存储位置的。pathname</p>
<p> 举例：</p>
<p>   D:\winshare\enum.c 全路径     pathname</p>
<p>   D:\winshare        路径     path</p>
<p>   enum.c                文件名    name</p>
<p>  绝对路径：路径是从绝对位置开始的。譬如Windows中从某一个盘符开始（C:\），linux中从根目录/开始</p>
<p>  相对路径：指明路径的时候，是从当前所在的位置开始的。</p>
<p> 举例：</p>
<p>   D:\我的文档\123\123.txt</p>
<p>   D:\我的文档\abc\abc.txt</p>
<p>   当前在123.txt，但是要去abc.txt</p>
<p>   方式1：采用绝对路径。D:\我的文档\abc\abc.txt</p>
<p>   方式2：采用相对路径。../abc/abc.txt</p>
<p>   从当前路径开始，往上走一层，再往下走一层（abc）就到了</p>
<p> 测试：</p>
<p>   /abc/123/def.txt    是linux绝对路径    </p>
<p>   abc/123/def.txt    不是linux绝对路径（没从根目录开始的）</p>
<p>   F:\abc\123\def.txt    是windows绝对路径</p>
<p>   abc\123\def.txt    不是windows绝对路径</p>
<p>###0.2.6.简介linux内核and发行版</p>
<p>  linux本身指的是一个操作系统内核，只有内核是无法直接使用的。我们需要的，可以使用的操作系统是一个包含了内核和一批有用的应用程序的一个集合体，这个就叫linux发行版。</p>
<p>  ubuntu、redhat就是linux的不同的发行版。</p>
<p>###0.2.7.GUI（图形用户界面）和cmdline（命令行）</p>
<p>  GUI：grahics user interface，图形用户界面。关于人机交互的开发常用</p>
<p>  cmdline：command line，命令行。摄像头这些没有交互界面的</p>
<p>  人机交互：人和机器（计算机）进行交互，常用的有命令行和GUI。</p>
<p>  Windows下既有GUI，又有命令行。linux中也是既有GUI，又有命令行。</p>
<p>  但是，在linux中我们常用命令行，在Windows中常用GUI</p>
<p>###0.2.8_15.linux常用命令<br> ls_cd_pwd_mkdir_mv_touch_cp_rm_cat_rmdir_ln_man_apt-get:</p>
<p>####(1) ls（list，列表）</p>
<pre><code>作用：使用列表把当前文件夹下所有文件显示出来

  ls         显示当前文件夹下的文件列表

  ls -a    显示所有文件，包括隐藏文件

  ls -l    以详细信息显示


  ls -a -l 显示所有文件，并有详细信息

  ls -l -a 如上

  ls -la     如上

  ls -al     四种方式都是可以的        
</code></pre><p>####(2) cd（change directory，更改目录）</p>
<pre><code>作用：用来切换目录，涉及到相对路径和绝对路径

  cd ..    ..代表上一层目录

          . 代表当前目录（.有个自动生成的路径，隐藏文件）


  cd /abc/123/def.txt    进入文件（绝对路径），/ 代表根目录

  cd def.txt/     进入文件（相对路径）

  cd ../../../../.././../  返回到根目录就停了

  ./a.out  执行该c语言文件
</code></pre><p>####(3) pwd（print work directory，打印工作目录）</p>
<pre><code>作用：打印出当前的绝对路径

目录很深时，显示当前路径
</code></pre><p>####(4) mkdir（make directory，创建空文件夹）</p>
<pre><code>作用：创建空文件夹

  mkdir -p 级联创建文件夹


  mkdir abc   创建abc文件夹

  mkdir -p abc/def   创建abc，同时在abc里创建def
</code></pre><p>####(5) mv（move，移动）</p>
<pre><code>作用：在目录间移动文件，重命名文件

  mv 源文件pathname 目的文件pathname(全路径)


  mv def/def.txt ./def.txt     (移动def文件下的def.txt到当前目录下)

  mv def.txt def/def.txt         (移动当前目录的下def.txt到def文件下)

  mv def.txt abc.txt         (重命名，没改路径改名字了)
</code></pre><p>####(6) touch（创建空文件）</p>
<pre><code>作用：创建空文件

  touch pathname


  touch 1.txt(创建空文件并进入，q键是退出)

  vi 1.c  (创建空文件并进入,没编辑直接退出后，文件并没有)

  vim 1.c    (创建空文件并进入,没编辑直接退出后，文件并没有)
</code></pre><p>####(7) cp（copy，复制）</p>
<pre><code>作用：复制文件或文件夹

  cp 源文件pathname 目标文件pathname

  cp -r 用来复制文件夹

  cp -f 强制复制

  实际操作时，一般都是cp -f复制文件，

  cp -rf复制文件夹(如果之前有同名称的，就会覆盖之前的;但不强制就会复制失败而其并不提示)


  cp 1.txt a.c     (复制1.txt为a.c)

  cp 1.txt ../b.c     (复制1.txt到上层目录为b.c)
</code></pre><p>####(8) rm（remove，去除，删除）</p>
<pre><code>作用：用来删除文件，文件夹

当一个文件正在打开时，也能删除，删的是硬盘那份，而打开的是内存那份，又要保存时，文件又被存到了硬盘。

  rm 文件pathname

  rm -r 文件夹pathname

  rm -rf 文件夹pathname （强制删除文件夹，如果没有该文件，不会提示;但不强制就会提示没有该文件夹）
</code></pre><p>####(9) cat（直接在命令行下显示文件内容）</p>
<pre><code>作用：直接在命令行下显示文件内容，适合短的内容，长的用vi直接打开

也可以用来向文件输入，暂时不管


  cat b.c   (显示b.c里的内容)

  vi b.c       （打开b.c）
</code></pre><p>####(10)rmdir（remove directory，删除文件夹）</p>
<pre><code>作用：删除空文件夹

rmdir只能删除空文件夹（非空时有提示，哪怕是里面有多个空文件夹也不行）

rm -r可以删除空文件夹和非空文件夹
</code></pre><p>####(11) ln（link，连接文件）</p>
<pre><code>windows中快捷方式，实际上快捷方式和它指向的文件是独立的两个文件，两个都占硬盘空间，只不过用户访问快捷方式时，其效果等同于访问指向的文件。        

linux中有两种连接文件：

一种叫软连接（符号连接），等同于windows中快捷方式

一种叫硬连接


创建软连接文件： ln -s 源文件名 符号连接文件名

 举例：ln -s src.c linker.c     （linker.c就是src.c的一个符号连接文件，删除源文件，符号连接文件用不了）

硬连接：ln 源文件名 连接文件名

 硬连接实际上和源文件在硬盘中是同一个东西，效果类似于硬盘上的一个文件，在文件系统上，在我们看来有好多个文件一样。每次删除一个文件时，只要他还有其他的硬连接存在，这个文件就不会被真正删除。只有等所有的连接文件都删除掉了，这个文件才会被真正从硬盘上删除。

 ln a.c b.c  (a.c b.c两个普通文件，剩哪个都能打开)
</code></pre><p>####(12) man（查询man手册）</p>
<pre><code>作用：查询man手册，获得帮助信息

  man 1 ls        1表示查询的是linux命令

  man 2 xxx        2表示查询的是linux api（API就是操作系统留给应用程序的一个调用接口）

  man 3 xxx        3表示查询的是C库函数

 注意：在man手册中查询时，退出按Q键（Q就是quit的缩写）
</code></pre><p>####(13) apt-get</p>
<pre><code>作用：在ubuntu中用来在线安装、卸载软件的程序

  apt-get install

  apt-get remove


  apt-get install vim


  su root  进入root模式

  su username  退出root模式


注意，安装和卸载都是在线的，也就是说ubuntu必须能上网才能使用apt-get
</code></pre><p>   说明：apt-get 安装软件的原理和必要性。</p>
<p>   linux操作系统的发行版，内核版本，定制性，造成了linux中软件的不兼容性。在linux中安装软件是一件困难的事情，装了软件能不能用不一定。ubuntu解决了这个问题，ubuntu就适合某个发行版（ubuntu10.04）的所有软件做了一个列表，然后用户通过apt-get install的方式安装软件，就会实时连接到ubuntu服务器，服务器会根据你的ubuntu版本，给你下载合适的软件来安装。这样确保了软件的兼容性。</p>
<p>###0.2.13.linux中的文件类型标记方法</p>
<p>  ls -l显示的详细信息中：</p>
<p>   -rw-r–r–</p>
<p>   drwxr-xr-x</p>
<p>   一共10个字符，第一个字符表示文件类型，后面9个字符表示文件权限。</p>
<p> 文件类型：</p>
<ul>
<li><p>表示普通文件。普通文件指文本文件和二进制文件，如a.c  1.txt a.out都是普通文件</p>
<p>d 表示文件夹，d是directory的缩写</p>
<p>l 表示符号连接文件，后面会用-&gt;打印出它指向的文件</p>
<p>s 表示socket文件，网络通信相关</p>
<p>p 表示管道文件（pipe），通信</p>
</li>
</ul>
<p>###0.2.16.什么是编辑器_vi和vim的关系</p>
<p>  什么是编辑器？编辑器就是一款软件，它的主要作用就是用来编辑。譬如编写文件，编写代码。</p>
<p>  Windows中的常用编辑器，如自带的notepad。比较好用的notepad++，UltraEditor，SlickEditor</p>
<p>  Linux中常用编辑器，自带的最古老的vi。比较好用的vim，gedit。</p>
<p>  注：vi和vim的关系：vim是vi的升级版，推荐使用vim。</p>
<p>  我们在后面提到vi时，其实都是指vim。</p>
<p>###0.2.17.vi基础使用</p>
<p>  *使用vi来打开/创建一个文件，vi pathname</p>
<p>  *vi的两种模式：</p>
<p>   命令模式：当vi打开时默认为命令模式，要转入输入模式，需要按a或者i键。在命令模式下，此时键盘上输入的所有东西都被vi当作命令来对待。</p>
<p>命令模式:最好不要乱输入。此时应该输入相应的命令，来让vi做相应的事。</p>
<p>输入模式：输入模式用来向文件输入内容。可以从命令模式中按a或者i进入输入模式。进入输入模式后，就可以随意按键盘进行输入了。输入完成后如果要保存，要先退回到命令模式（因为保存也是一种命令）。</p>
<p>  在输入模式下按ESC键退回到命令模式。</p>
<p>  注：注意看屏幕左下角，当命令模式时无提示信息或者提示文件名等信息，等处于输入模式时，提示 – INSERT –</p>
<p> 在命令模式下如何保存：</p>
<p>  :wq            保存并且退出</p>
<p>  :w            只保存不推出</p>
<p>  :q            不保存退出        进来看了一下没改退出</p>
<p>  :q!            不保存强制退出</p>
<p>  :wq!        保存并强制退出</p>
<p>###0.2.18.vi高级应用：查找<em>快速切换行</em>设置显示行号</p>
<ul>
<li><p>查找</p>
<p>在命令模式下，输入 /xxx，就可以查找到xxx</p>
</li>
<li><p>快速切换行</p>
<p>在命令模式下，输入 :num，就可以快速切换到num行</p>
</li>
<li><p>设置显示行号</p>
<p>在命令模式下，输入 :set nu，就可以显示行号</p>
<p>在命令模式下，输入 :set nonu，不显示行号</p>
<p>设置永久显示行号，需要修改vi的配置文件。打开vi的配置文件~/.vimrc，在其中输入set nu即可。</p>
</li>
</ul>
<p>###0.2.19.linux命令行中一些符号的含义<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">.        代表当前目录</span><br><span class="line"></span><br><span class="line">..        代表上一层目录，当前目录的父目录</span><br><span class="line"></span><br><span class="line">-        代表前一个目录，我刚才从哪个目录cd过来</span><br><span class="line"></span><br><span class="line">~        代表当前用户的宿主目录</span><br><span class="line"></span><br><span class="line">/        代表根目录</span><br><span class="line"></span><br><span class="line">$        普通用户的命令行提示符</span><br><span class="line"></span><br><span class="line">#        root用户的命令行提示符</span><br><span class="line"></span><br><span class="line">*        万能匹配符</span><br></pre></td></tr></table></figure></p>
<p>   宿主目录：所谓宿主目录，就是操作系统为当前用户所设计的用来存放文件、工作的默认目录。如Windows中的“我的文档”目录，就是Windows为我们设计的宿主目录。Linux中每个用户都有自己的宿主目录，这个目录对于普通用户来说，在/home/username/，而对于root用户来说，在/root。    </p>
<p>###0.2.20.vi高级应用：行删除_行复制粘贴</p>
<ul>
<li><p>行删除</p>
<p>命令模式下，先将光标移动到要删除的行（或者:行），然后输入dd</p>
<p>如果要删除连续多行，譬如要删除连续的3行光标，该在3行的第一行，使用3dd</p>
</li>
<li><p>行复制粘贴</p>
<p>复制：命令模式下，nyy（3yy）</p>
<p>粘贴：命令模式下，p</p>
<p> 细节，复制时要把光标放在多行的第一行，粘贴时实际粘贴到当前光标所在行的下一行。</p>
</li>
</ul>
<p>###0.2.21.普通用户与特权用户 su命令切换用户</p>
<p> Windows中有普通用户和特权用户，特权用户是Administrator，普通用户可以有很多个。特权用户是系统的管理员，对系统内所有文件具有操作权限。每个普通用户只能处理自己的文件，不能访问其他用户的文件，更不能随意处理操作系统的文件。</p>
<p>  Linux中也有普通用户和特权用户的区别。特权用户就是root用户。普通用户权限受到限制，譬如说普通用户不能cd /root，普通用户不能使用apt-get install 来装软件。    </p>
<p>   可以使用su 用户名来在不同用户间切换。譬如要从普通</p>
<p>   用户切换到root，可以su root，然后输入root的密码即可转入root用户。从root要切换到普通用户gec，则su gec即可。从普通用户gec进入普通用户abc,su abc需要密码。</p>
<p>###0.2.22.rwx与linux中权限表示</p>
<pre><code>ls -l显示详细信息：

 drwxr-xr-x    10个字符，第一个表示文件类型。剩下的9个分成3组，表示文件权限。

前三个表示此文件的属主对文件的权限

中间三个表示此文件属主所在的组对文件的权限

最后三个表示其他用户对文件的权限
</code></pre><p>   rwx解析：r代表可读，w代表可写，x代表可执行</p>
<pre><code>rwx：可读，可写，可执行

r-x: 可读，不可写，可执行

r--: 可读，不可写，不可执行


- 表示普通文件。普通文件指文本文件和二进制文件，如a.c  1.txt a.out都是普通文件

d 表示文件夹，d是directory的缩写

l 表示符号连接文件，后面会用-&gt;打印出它指向的文件
</code></pre><p>###0.2.23.ubuntu中使用sudo暂时获取root权限</p>
<pre><code>这是ubuntu的一个特点，在ubuntu中可以使用sudo命令让普通用户暂时获取root用户的权限，而不必进行用户切换。

 sudo apt-get install vim  要输入密码，执行完后还是普通用户
</code></pre><p>###0.2.24_29.linux高阶命令1_5：find_grep_which_whereis_uname_tree_mount_df_chmod</p>
<p>####（1）find</p>
<p>   功能：在linux文件系统中，用来查找一个文件放在哪里了。</p>
<p>   举例：find /etc -name “interfaces”</p>
<p>   总结：</p>
<ul>
<li><p>什么时候用find？</p>
<p>当你知道你要找的文件名，但是你忘记了它被放在哪个目录下，要找到该文件时，用find。</p>
</li>
<li><p>怎么用find？</p>
<p>find 路径 -name “文件名”</p>
<p>find / -name “文件名”</p>
</li>
</ul>
<p>####（2）grep</p>
<p>   功能：在一个文本文件中，查找某个词。</p>
<p>   举例：grep -nr “SUN” *     （所有路径）</p>
<pre><code>grep -nr &quot;SUN&quot; 路径
</code></pre><p>   总结：</p>
<ul>
<li><p>什么时候用grep？</p>
<p>当你想查找某个符号在哪些地方（有可能是一个文件，也有可能是多个文件组成的文件夹）出现过，就用grep</p>
</li>
<li><p>怎么用？</p>
<p>grep -nr “要查找的符号” 要查找的目录或文件集合</p>
<p>注意：-n表示查找结果中显示行号，-r表示要递归查找(文件夹里面也查)</p>
</li>
</ul>
<p>####（3）which和whereis</p>
<p>   功能：查找一个应用程序（二进制文件）在哪里</p>
<p>   举例：which ls         whereis ls</p>
<p>   区别：</p>
<pre><code>which只显示二进制文件的路径

whereis显示二进制文件的路径，和其源码或man手册位置    
</code></pre><p>####（4）uname</p>
<p>   功能：查看系统信息</p>
<p>   举例：uname -a</p>
<p>####（5）开机和关机</p>
<p>   init 0                关机</p>
<p>   init 2             重启</p>
<p>   shutdown -h now    立即关机</p>
<p>   shutdown -r now    立即重启</p>
<p>   reboot                重启    </p>
<p>####（6）tree/lstree    </p>
<p>   功能：显示文件和目录由根目录开始的树形结构    </p>
<p>####（7）mount/umount</p>
<p>   功能：用来挂载磁盘到文件系统中</p>
<p>   举例：mount -t nfs -o nolock 192.168.1.141:/root/rootfs /mnt    挂载</p>
<p>umount /mnt 卸载</p>
<p>####（8）磁盘空间相关</p>
<p>   df -h    显示已挂载的分区列表，大小、容量</p>
<p>   du -h    列出文件或文件夹的大小</p>
<p>   du -h 文件名，可以列出这个文件有多大，列出方式是以人比较好看懂的方式。不像 ls -l列出的都是以字节为单位。    </p>
<p>####（9）用户管理</p>
<p>   useradd user1    添加一个名为user1的用户</p>
<p>   userdel    user1    删除一个名为user1的用户</p>
<p>   passwd user1    为名为user的用户设置密码</p>
<p>   adduser user1    添加一个名为user1的用户，同时创建宿主目录，用户shell等。</p>
<p>   adduser和useradd的区别：</p>
<p>   adduser是一个脚本，而useradd是一个二进制应用程序。adduser创建用户时比较麻烦，但是一次设定完所有的信息；而useradd设置时简单，但是需要额外的设置宿主目录，密码那些信息。    </p>
<p>####（10）权限管理</p>
<p>   作用：用来管理系统中文件的权限。</p>
<p>   chmod （change mode，修改文件权限，比较常用，要记得）</p>
<p>   chown （change owner，修改属主） chown meng a.c</p>
<p>   chgrp （change group，修改文件的组） chgrp meng a.c</p>
<p>   ls -l 列出的属性</p>
<p>   -rwxr-xr-x</p>
<p>   一共10个字符，第一个表示文件属性（d表示文件夹，-表示普通文件），剩下的9个分成三组。每组中三个分别表示r可读w可写x可执行。如果是字母表示有这个权限，如果是-表示没这个权限。三组分别表示：第一组表示文件属主的权限，第二组表示属主所在的组用户的权限，第三组表示其他用户的权限。</p>
<p>   权限还有另一种表示方法，用数字来表示。</p>
<p>   编码规则如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">r    可读        4</span><br><span class="line"></span><br><span class="line">w    可写        2</span><br><span class="line"></span><br><span class="line">-    无权限        0</span><br><span class="line"></span><br><span class="line">x    可执行        1</span><br></pre></td></tr></table></figure></p>
<p>   有了这个编码规则，则 rwxr-xr-x  编码后为755</p>
<p>  第一种修改权限的方法：</p>
<p>   要把权限改成    rwxr–r–    则对应的编码值为744</p>
<p>   修改命令为：chmod 744 文件名</p>
<p>  第二种修改权限的方法：</p>
<p>   在原来的权限基础上进行修改，即增加或减少某权限。</p>
<p>   三个组用户的编码依次为： 属主u，属主所在的组g，其他用户o</p>
<p>   譬如</p>
<p>   要属主增加可执行权限    chmod u+x 文件名</p>
<p>   其他用户增加可写权限    chmod o+w 文件名</p>
<p>   属主所在组用户去掉可执行权限    chmod g-x 文件名</p>
<p>####（11）文件打包压缩与解压缩</p>
<p>   tar -czvf dir.tar.gz dir/        将dir目录打包成dir.tar.gz</p>
<p>   tar -cjvf dir.tar.bz2 dir/        将dir目录打包成dir.tar.bz2</p>
<p>   tar -zxvf dir.tar.gz             解压缩dir.tar.gz</p>
<p>   tar -jxvf dir.tar.bz2            解压缩dir.tar.bz2</p>
<p>####（12）sed和awk</p>
<p>   正则表达式。匹配加替换。</p>
<p>####（13）格式化文件系统</p>
<pre><code>mkfs    /dev/hd1

mkfs -t vfat 32 -F /dev/hd1        创建一个FAT32文件系统    
</code></pre><p>####（14）网络配置命令</p>
<p>   ifconfig eth0 192.168.1.13        设置IP地址</p>
<p>   ifconfig eth0 up                启动网卡</p>
<p>   ifconfig eth0 down                禁用网卡</p>
<p>   ifup eth0                        启动网卡</p>
<p>   ifdown eth0                        禁用网卡</p>
<p>   ifconfig eth0 192.168.1.1 netmask 255.255.255.0    同时设置IP和子网掩码</p>
<p>####（15）设置共享文件夹    </p>
<pre><code>ln –s /mnt/hgfs/windows_share /root/windows_share， 即可在/root下成功创建共享文件夹的符号链接，便于以后实验时与 Windows 下交互

在线安装gcc：sudo apt-get install build-essential

本地安装gcc: 查看1.4.3安装交叉工具链
</code></pre><p>   搭建tftp服务器</p>
<p>   搭建nfs服务器</p>
<p>  使用技巧：</p>
<p>   1&gt;使用shell的Tab键自动补全</p>
<pre><code>Tab在linux命令行输入中可以自动完成。在linux命令行中使用Tab键会极大提高输入效率
</code></pre><p>   2&gt;使用shell的历史记录，上下键</p>
<pre><code>shell会记录用户执行命令的历史记录，而我们一般使用命令都会在短时间内集中反复使用，因此当你需要使用一条刚才还使用过的命令时，不需再次花时间输入，只要按下键盘上下箭头按键，就可实现上下翻页，翻出刚才用过的命令，直接回车执行。就好像电话机的通话记录和快速回拨一样。
</code></pre><p>###0.2.30.补充-虚拟机上网的问题</p>
<p>  VMware中虚拟机网络的三种设置</p>
<p>   第一种：桥接（bridged）</p>
<p>   第二种：NAT</p>
<p>   第三种：Host only 。该模式下仅主机可以上网，虚拟机不能上网。</p>
<p>####（1）虚拟机上网方式1：NAT方式</p>
<p>   第一步：在菜单栏 虚拟机 -&gt; 设置 -&gt; 硬件 -&gt; 网络适配器，右侧选择NAT模式</p>
<p>   第二步： vi /etc/network/interfaces，打开该文件，将内容编辑成为：</p>
<p>   auto lo</p>
<p>   iface lo inet loopback</p>
<p>   auto eth0</p>
<p>   iface eth0 inet dhcp</p>
<p>   address 192.168.1.141</p>
<p>   netmask 255.255.255.0</p>
<p>   gateway 192.168.1.1</p>
<p>   第三步：执行/etc/init.d/networking  restart 重启网卡</p>
<pre><code>ping www.baidu.com   ctrl+c终止

查看地址 ifconfig
</code></pre><p>####（2）虚拟机上网方式2：桥接方式</p>
<p>   第一步：桥接。在菜单栏 虚拟机 -&gt; 设置 -&gt; 硬件 -&gt; 网络适配器，右侧选择桥接模式。</p>
<p>   第二步：桥接到可以上网的网卡。在菜单栏 编辑 -&gt; 虚拟网络编辑器，选择桥接到自己Windows中可以上网的网卡上（一般就是Wifi网络或者有线网络）</p>
<p>   第三步：设置并重启网卡。vi /etc/network/interfaces，打开该文件，将内容编辑成为：</p>
<pre><code>auto lo

iface lo inet loopback

auto eth0

iface eth0 

inet dhcp

address 192.168.1.141

netmask 255.255.255.0

gateway 192.168.1.1
</code></pre><p>   第四步：保存退出。然后命令行执行/etc/init.d/networking  restart 重启网卡</p>
<p>####总结</p>
<p>   第一，NAT方式设置上网比较简单，包含在主机里外部感知不到，路由器不能察觉，网段地址都不一样，但是不能用在嵌入式开发中</p>
<p>   第二，桥接方式设置上网较繁琐，相当于同一个网络里面两台电脑，网段一样地址不一样，但是在嵌入式开发中比较有用。</p>
<p> 转自<a href="https://zhuanlan.zhihu.com/p/32916021" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/32916021</a></p>

      
    </div>

    

    
    
    
<div>
    
        
    
</div>
    

    
      
    
    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/04/05/Blog/自动控制的故事(下)by晨枫/" rel="next" title>
                <i class="fa fa-chevron-left"></i> 
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/04/05/Blog/Matlab PID/" rel="prev" title>
                 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="Zero、">
            
              <p class="site-author-name" itemprop="name">Zero、</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives">
                
                    <span class="site-state-item-count">59</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                    <span class="site-state-item-count">1</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/kilotwo" title="GitHub &rarr; https://github.com/kilotwo" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Zero、</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
    <span title="站点总字数">332k</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
    <span title="站点阅读时长">5:02</span>
  
</div>









        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="总访客量">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="总访问量">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  
    
    
  
  <script color="0,0,0" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script>













  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/utils.js?v=7.1.0"></script>

  <script src="/js/motion.js?v=7.1.0"></script>



  
  


  <script src="/js/affix.js?v=7.1.0"></script>

  <script src="/js/schemes/pisces.js?v=7.1.0"></script>



  
  <script src="/js/scrollspy.js?v=7.1.0"></script>
<script src="/js/post-details.js?v=7.1.0"></script>



  


  <script src="/js/next-boot.js?v=7.1.0"></script>


  

  

  

  
  

<script src="//cdn1.lncld.net/static/js/3.11.1/av-min.js"></script>



<script src="//cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script>

<script>
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#comments',
    verify: false,
    notify: ture,
    appId: 'jNfDrH5MBW35Ejng6bgh05G8-gzGzoHsz',
    appKey: 'YqVyGC0hIm6TEhKbgktVrkcN',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: false,
    lang: '' || 'zh-cn'
  });
</script>




  


  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

  

  

  

  

  

  

  

  

  


  <script type="text/javascript" src="/js/love.js"></script>

</body>
</html>
